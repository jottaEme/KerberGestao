@using KerberGestaoRegraDeNegocio.Models.Dtos
@using KerberGestaoRegraDeNegocio.Models;
@model List<ProjetoDto>
@{
    ViewData["Title"] = "Cadastro de Cliente";
}
<head>
    <link rel="stylesheet" href="~/css/Projeto-Index.css" />
</head>
@if(TempData["MensagemSucesso"] != null)
{
    <div class="alert alert-success" role="alert">
        <button type="button" class="btn btn-outline-danger btn-sm close-alert" arial-label="Close">x</button>
        @TempData["MensagemSucesso"]
    </div>
}

@if (TempData["MensagemErro"] != null)
{
    <div class="alert alert-danger" role="alert">
        <button type="button" class="btn btn-outline-danger btn-sm close-alert" arial-label="Close">x</button>
        @TempData["MensagemErro"]
    </div>
}
<br />

<div class="text-center">
    <h1 class="display-4">PROJETOS</h1>
    <br />
    @if (Model != null && Model.Any())
    {
        foreach (var projeto in Model)
        {
            <font size="5">@projeto.NomeProjeto</font>
            <br />
            <font size="3">@projeto.Cliente.NomeCliente</font>
            if (projeto.StatusProjeto == StatusProjetoEnum.Iniciado)
            {
                <div class="progress">
                    <div class="progress-bar progress-bar-striped" role="progressbar" style="width: 10%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <font size="4">@projeto.StatusProjeto</font>
            }
            if (projeto.StatusProjeto == StatusProjetoEnum.EmAndamento)
            {
                <div class="progress">
                    <div class="progress-bar progress-bar-striped bg-info" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <font size="4">@projeto.StatusProjeto</font>
            }
            if (projeto.StatusProjeto == StatusProjetoEnum.Impedimento)
            {
                <div class="progress">
                    <div class="progress-bar progress-bar-striped bg-danger" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <font size="4">@projeto.StatusProjeto</font>
            }
            if (projeto.StatusProjeto == StatusProjetoEnum.Finalizado)
            {
                <div class="progress">
                    <div class="progress-bar progress-bar-striped bg-success" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <font size="4">@projeto.StatusProjeto</font>
            }
            <br />
            <font size="3">@projeto.Descricao</font>
            <br />
            <a role="button" class="btn btn-outline-success" asp-route-id="@projeto.IdProjeto" asp-controller="Projeto" asp-action="Atualizar">Editar</a>
            <p> </p>
            <hr width="100%" align="center" />
            <p> </p>
            <br />
            <br />
        }
    }
</div>
